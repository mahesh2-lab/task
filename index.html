<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ग्राम पंचायत संपत्ती कर प्रबंधन</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ग्राम पंचायत संपत्ती कर फॉर्म </h1>
    </div>
    
    <div class="tabs">
      <div class="tab active" onclick="showTab('form')">फॉर्म भरें</div>
      <div class="tab" onclick="showTab('display')">डेटा देखें</div>
    </div>
    
    <!-- Form Section -->
    <div id="form-container" class="form-container">
      <form id="taxForm" >
        <!-- Section 1: General Information -->
        <div class="form-section">
          <div class="section-title">सामान्य जानकारी</div>
          <div class="form-row">
            <div class="form-group">
              <label for="gramPanchayat">ग्राम पंचायत:</label>
              <input type="text" id="gramPanchayat" name="village_panchayat" required>
            </div>
            <div class="form-group">
              <label for="village">गाव/मोहल्ला:</label>
              <input type="text" id="village" name="locality" required>
            </div>
            <div class="form-group">
              <label for="janpadPanchayat">जनपद पंचायत:</label>
              <input type="text" id="janpadPanchayat" name="janpad_panchayat" required>
            </div>
            <div class="form-group">
              <label for="district">जिला:</label>
              <input type="text" id="district" name="district" required>
            </div>
          </div>
        </div>
        
        <!-- Section 2: Property Details -->
        <div class="form-section">
          <div class="section-title">संपत्ति विवरण</div>
          <div class="form-row">
            <div class="form-group">
              <label for="serial">अ. क्र (स्वचालित):</label>
              <input type="text" id="serial" name="auto_serial_no" value="1" readonly>
            </div>
            <div class="form-group">
              <label for="address">पता:</label>
              <input type="text" id="address" name="address" required>
            </div>
            <div class="form-group">
              <label for="memberId">समग्र सदस्य आयडी:</label>
              <input type="text" id="memberId" name="samagra_id" required>
            </div>
            <div class="form-group">
              <label for="assetNumber">परिसंपत्ति क्रमांक:</label>
              <input type="text" id="assetNumber" name="property_number" required>
            </div>
            <div class="form-group">
              <label for="ownerName">मालिक का नाम:</label>
              <input type="text" id="ownerName" name="owner_name" required>
            </div>
            <div class="form-group">
              <label for="consumerName">उपभोक्ता का नाम:</label>
              <input type="text" id="consumerName" name="consumer_name" required>
            </div>
            <div class="form-group">
              <label for="assetDetails">परिसंपत्ति का विवरण:</label>
              <textarea id="assetDetails" name="property_description" rows="2" required></textarea>
            </div>
            <div class="form-group">
              <label for="constructionYear">भवन निर्माण साल:</label>
              <input type="number" id="constructionYear" name="building_year" min="1900" max="2025" required>
            </div>
          </div>
        </div>
        
        <!-- Section 3: Valuation Details -->
        <div class="form-section">
          <div class="section-title">मूल्यांकन विवरण</div>
          <div class="form-row">
            <div class="form-group">
              <label for="areaPerSqFt">वर्ग फिट प्रतिवर्ग:</label>
              <input type="number" id="areaPerSqFt" name="area_sqft" required>
            </div>
            <div class="form-group">
              <label for="landValue">भूमि (गाइड लाइन की कीमत):</label>
              <input type="number" id="landValue" name="land_guideline_price" required>
            </div>
            <div class="form-group">
              <label for="buildingValue">इमारत (गाइड लाइन की कीमत):</label>
              <input type="number" id="buildingValue" name="building_guideline_price" required>
            </div>
            <div class="form-group">
              <label for="constructionValue">निर्माण (गाइड लाइन की कीमत):</label>
              <input type="number" id="constructionValue" name="construction_guideline_price" required>
            </div>
            <div class="form-group">
              <label for="depreciationRate">मूल्य ह्रास के प्रतिशत:</label>
              <input type="number" id="depreciationRate" name="depreciation_percent" min="0" max="100" required>
            </div>
            <div class="form-group">
              <label for="intendedUse">निर्माण इरादा उपयोग:</label>
              <select id="intendedUse" name="intended_use" required>
                <option value="">चुनें</option>
                <option value="आवासीय">आवासीय</option>
                <option value="वाणिज्यिक">वाणिज्यिक</option>
                <option value="औद्योगिक">औद्योगिक</option>
                <option value="कृषि">कृषि</option>
              </select>
            </div>
            <div class="form-group">
              <label for="afterDepreciationValue">मूल्य ह्रास के बाद की किमत:</label>
              <input type="number" id="afterDepreciationValue" name="post_depreciation_value" required>
            </div>
            <div class="form-group">
              <label for="taxableValue">कर की मूल्य (रोकड़):</label>
              <input type="number" id="taxableValue" name="tax_cash_value" required>
            </div>
          </div>
        </div>
        
        <!-- Section 4: Tax Details -->
        <div class="form-section">
          <div class="section-title">कर विवरण</div>
          <div class="form-row">
            <div class="form-group">
              <label for="propertyTax">संपत्ती कर (वार्षिक):</label>
              <input type="number" id="propertyTax" name="property_tax_annual" required>
            </div>
            <div class="form-group">
              <label for="lightTax">प्रकाश कर (वार्षिक):</label>
              <input type="number" id="lightTax" name="lighting_tax_annual" required>
            </div>
            <div class="form-group">
              <label for="cleaningTax">सफाई कर (वार्षिक):</label>
              <input type="number" id="cleaningTax" name="cleaning_tax_annual" required>
            </div>
            <div class="form-group">
              <label for="waterTax">जल कर (वार्षिक):</label>
              <input type="number" id="waterTax" name="water_tax_annual" required>
            </div>
            <div class="form-group">
              <label for="totalAnnual">कुल (वार्षिक):</label>
              <input type="number" id="totalAnnual" name="total_tax_annual" readonly>
            </div>
            <div class="form-group">
              <label for="appealPropertyTax">संपत्ती कर (अपील):</label>
              <input type="number" id="appealPropertyTax" name="property_tax_appeal" required>
            </div>
            <div class="form-group">
              <label for="appealLightTax">प्रकाश कर (अपील):</label>
              <input type="number" id="appealLightTax" name="lighting_tax_appeal" required>
            </div>
            <div class="form-group">
              <label for="appealCleaningTax">सफाई कर (अपील):</label>
              <input type="number" id="appealCleaningTax" name="cleaning_tax_appeal" required>
            </div>
            <div class="form-group">
              <label for="appealWaterTax">जल कर (अपील):</label>
              <input type="number" id="appealWaterTax" name="water_tax_appeal" required>
            </div>
            <div class="form-group">
              <label for="totalAppeal">कुल (अपील):</label>
              <input type="number" id="totalAppeal" name="total_tax_appeal" readonly>
            </div>
          </div>
        </div>
        
        <!-- Section 5: Comments and Notes -->
        <div class="form-section">
          <div class="section-title">अतिरिक्त जानकारी</div>
          <div class="form-row">
            <div class="form-group">
              <label for="remarks">बाद में विकास या कमी के मामले में आदेश प्रसंग में टिप्पणी:</label>
              <textarea id="remarks" name="remarks_on_change" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="toilet">शौचालय:</label>
              <select id="toilet" name="has_toilet">
                <option value="हाँ">हाँ</option>
                <option value="नहीं">नहीं</option>
              </select>
            </div>
            <div class="form-group">
              <label for="chaturmasi">चतुर्मासी:</label>
              <input type="text" id="chaturmasi" name="chaturmasi">
            </div>
            <div class="form-group">
              <label for="east">पूर्व:</label>
              <input type="text" id="east" name="boundary_east">
            </div>
            <div class="form-group">
              <label for="west">पश्चिम:</label>
              <input type="text" id="west" name="boundary_west">
            </div>
            <div class="form-group">
              <label for="north">उत्तर:</label>
              <input type="text" id="north" name="boundary_north">
            </div>
            <div class="form-group">
              <label for="south">दक्षिण:</label>
              <input type="text" id="south" name="boundary_south">
            </div>
          </div>
        </div>
        
        <div class="btn-container">
          <button type="submit" class="btn btn-primary" >सबमिट करें</button>
          <button type="reset" class="btn btn-secondary">रीसेट करें</button>
        </div>
      </form>
    </div>
    
    <!-- Display Section -->
    <div id="display-container" class="display-container">
      <div id="printdata">
        <div class="header1">
        <h2>ग्राम पंचायत संपत्ती कर प्रबंधन प्रणाली</h2>
        <h3>मध्य प्रदेश ग्राम पंचायत अनिवार्य कर तथा फीस (शर्त तथा अपवाद) धारा 77 नियम 1996</h3>
        <h5>सन 2020 -2021 से 2024 -2025 तक के लिए प्रतिवर्ष भूमि एवं भवनों का कर मूल्यांकन अभिलेख</h5>
      </div>
      
      <div class="four-fields">
        <div class="fields-left">
          <div>ग्राम पंचायत: <span id="display-gramPanchayat">-</span></div>
          <div>गाव/मोहल्ला: <span id="display-village">-</span></div>
        </div>
        <div class="fields-right">
          <div>जनपद पंचायत: <span id="display-janpadPanchayat">-</span></div>
          <div>जिला: <span id="display-district">-</span></div>
        </div>
      </div>
      
      <table id="taxTable">
        <tr>
          <td colspan="9" class="align-centre" style="background-color: #cbd5e0;"></td>
          <td colspan="3" class="align-centre" style="background-color: #cbd5e0;">गाइड लाइन की कीमत</td>
          <td colspan="2" style="background-color: #cbd5e0;"></td>
        </tr>
        <tr>
          <th>अ. क्र</th>
          <th>पता</th>
          <th>समग्र सदस्य आयडी</th>
          <th>परिसंपत्ति क्रमांक</th>
          <th>मालिक का नाम</th>
          <th>उपभोक्ता का नाम</th>
          <th>परिसंपत्ति का विवरण</th>
          <th>भवन निर्माण साल</th>
          <th>वर्ग फिट प्रतिवर्ग</th>
          <th>भूमि</th>
          <th>इमारत</th>
          <th>निर्माण</th>
          <th>मूल्य ह्रास के प्रतिशत</th>
          <th>निर्माण इरादा उपयोग</th>
        </tr>
        <tr>
          <td rowspan="4" id="display-serial">1</td>
          <td rowspan="4" id="display-address">-</td>
          <td rowspan="4" id="display-memberId">-</td>
          <td rowspan="4" id="display-assetNumber">-</td>
          <td class="align-left" id="display-ownerName">-</td>
          <td class="align-left" id="display-consumerName">-</td>
          <td class="align-left" id="display-assetDetails">-</td>
          <td id="display-constructionYear">-</td>
          <td id="display-areaPerSqFt">-</td>
          <td id="display-landValue">-</td>
          <td id="display-buildingValue">-</td>
          <td id="display-constructionValue">-</td>
          <td rowspan="4" id="display-depreciationRate">-</td>
          <td rowspan="4" id="display-intendedUse">-</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td colspan="4"></td>
          <td></td>
        </tr>
        <tr>
          <td colspan="4"></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td colspan="4"></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td colspan="2" class="align-centre" style="background-color:#cbd5e0;"></td>
          <td colspan="5" class="align-centre" style="background-color:#cbd5e0;">वार्षिक संपत्ती कर भुगतान राशि (रुपये)</td>
          <td colspan="5" class="align-centre" style="background-color:#cbd5e0;">अपील निर्णय या परिवर्तन (रुपये)</td>
          <td colspan="2" class="align-centre" style="background-color:#cbd5e0;"></td>
        </tr>
        <tr>
          <th>मूल्य ह्रास के बाद की किमत</th>
          <th>कर की मूल्य (रोकड़)</th>
          <th>संपत्ती कर</th>
          <th>प्रकाश कर</th>
          <th>सफाई कर</th>
          <th>जल कर</th>
          <th>कुल</th>
          <th>संपत्ती कर</th>
          <th>प्रकाश कर</th>
          <th>सफाई कर</th>
          <th>जल कर</th>
          <th>कुल</th>
          <th colspan="2">बाद में विकास या कमी के मामले में आदेश प्रसंग में टिप्पणी</td>
        </tr>
        <tr>
          <td id="display-afterDepreciationValue">-</td>
          <td id="display-taxableValue">-</td>
          <td id="display-propertyTax">-</td>
          <td id="display-lightTax">-</td>
          <td id="display-cleaningTax">-</td>
          <td id="display-waterTax">-</td>
          <td id="display-totalAnnual">-</td>
          <td id="display-appealPropertyTax">-</td>
          <td id="display-appealLightTax">-</td>
          <td id="display-appealCleaningTax">-</td>
          <td id="display-appealWaterTax">-</td>
          <td id="display-totalAppeal">-</td>
          <td colspan="2" id="display-remarks">-</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td colspan="2"></td>
        </tr>
      </table>
      
      <div class="note">
        <span>शौचालय: <span id="display-toilet">-</span></span>
        <span>चतुर्मासी: <span id="display-chaturmasi">-</span></span>
        <span>पूर्व: <span id="display-east">-</span></span>
        <span>पश्चिम: <span id="display-west">-</span></span>
        <span>उत्तर: <span id="display-north">-</span></span>
        <span>दक्षिण: <span id="display-south">-</span></span>
      </div>  
      </div>
      
      <button class="pdf-btn" onclick="downloadPDF()">PDF डाउनलोड करें</button>
    </div>
  </div>
  <script src="script.js"></script>
  <script src="db.js"></script>
</body>
</html>